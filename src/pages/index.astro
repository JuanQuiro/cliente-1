---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
import MainLayout from '../layouts/MainLayout.astro';

const pageTitle = 'Inicio';
const pageDescription = 'Servicios profesionales de mantenimiento para tu hogar o negocio.';
---

<MainLayout title={pageTitle} description={pageDescription}>
  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <div class="hero-content">
        <h1 class="!text-black"><span class="highlight !text-black">Servicios</span> de Mantenimiento Residencial y Comercial</h1>
        <p class="tagline !text-black !font-semibold">Instaladores expertos en techado y paisajismo a su servicio. Obtenga más información sobre nuestros servicios y comience hoy mismo.</p>
        <ul class="hero-features">
          <li>Corte de Grama</li>
          <li>Trabajos de Patio</li>
          <li>Servicio de Mudanzas</li>
          <li>Lavado de Techo y Aceras</li>
          <li>Mantenimiento Residencial/Comercial</li>
          <li>Handyman & Reparaciones</li>
          <li>Pintura</li>
          <li>Otros Servicios de Jardinería</li>
        </ul>
        <div class="hero-buttons">
          <a href="/servicios" class="btn btn-primary hover:text-black">Nuestros Servicios</a>
          <a href="/contacto" class="btn btn-outline">Solicitar Cotización</a>
        </div>
      </div>
      <div class="hero-gallery ">
        <img src="/images/image-hero/hero-1.jpeg" class="gallery-img" alt="Proyecto 1" />
        <img src="/images/image-hero/hero-2.jpeg" class="gallery-img" alt="Proyecto 2" />
        <img src="/images/image-hero/hero-3.jpeg" class="gallery-img" alt="Proyecto 3" />
        <img src="/images/image-hero/hero-4.jpeg" class="gallery-img" alt="Proyecto 4" />
        <img src="/images/image-hero/hero-5.jpeg" class="gallery-img" alt="Proyecto 5" />
        <img src="/images/image-hero/hero-6.jpeg" class="gallery-img" alt="Proyecto 6" />
        <img src="/images/image-hero/hero-7.jpeg" class="gallery-img" alt="Proyecto 7" />
        <img src="/images/image-hero/hero-8.jpeg" class="gallery-img" alt="Proyecto 8" />
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section class="about-section">
    <div class="container about-grid">
      <!-- Card Sobre Nosotros -->
      <div class="about-card">
        <h3><span class="highlight">SOBRE NOSOTROS</span></h3>
        <p>En <strong>Jonathan Roofing and Landscaping</strong>, nos especializamos en transformar y mantener espacios exteriores con soluciones integrales para hogares y negocios en Puerto Rico.</p>
        <p>Nuestro enfoque combina calidad, experiencia local y atención personalizada.</p>
        <ul class="about-list">
          <li>Servicios completos desde el diseño hasta el mantenimiento continuo</li>
          <li>Técnicas probadas con herramientas profesionales (STIHL, ILLEGNO, OBERNARD)</li>
          <li>Compromiso con Puerto Rico, mejorando entornos residenciales y comerciales</li>
        </ul>
      </div>

      <!-- Beneficios directos -->
      <div class="benefit-card">
          <i class="fas fa-map-marker-alt icon"></i>
          <h4>Experiencia Local</h4>
          <p>Años sirviendo a comunidades puertorriqueñas y conocimiento profundo de sus necesidades climáticas y estructurales.</p>
        </div>
        <div class="benefit-card">
          <i class="fas fa-check-circle icon"></i>
          <h4>Calidad Garantizada</h4>
          <p>Equipos industriales y materiales premium; sellado de techos con garantía incluida.</p>
        </div>
        <div class="benefit-card">
          <i class="fas fa-tools icon"></i>
          <h4>Soluciones Prácticas</h4>
          <p>Resolución eficiente de problemas (empozamientos, grietas, jardines descuidados) y mantenimiento preventivo para ahorrar costos.</p>
        </div>
        <div class="benefit-card">
          <i class="fas fa-headset icon"></i>
          <h4>Atención al Cliente</h4>
          <p>Servicio cercano y dedicado, adaptado a las necesidades de cada proyecto.</p>
        </div>
      </div>
    </div>
  </section>

  

  <!-- Featured Services -->
  <section class="featured-services">
    <div class="container ">
      <div class="section-header ">
        <h2>Nuestros Servicios</h2>
        <p>Ofrecemos una amplia gama de servicios profesionales para satisfacer todas tus necesidades de mantenimiento.</p>
      </div>
      
      <div class="services-grid">
        <div class="service-card">
          <div class="mx-auto service-icon">
            <i class="fas fa-leaf"></i>
          </div>
          <div class="service-content">
            <h3>Corte de Grama</h3>
            <p>Mantenimiento profesional de jardines y áreas verdes para mantener tu espacio exterior impecable.</p>
          </div>
        </div>
        
        <div class="service-card">
          <div class="mx-auto service-icon">
            <i class="fas fa-home"></i>
          </div>
          <div class="service-content">
            <h3>Limpieza de Techos</h3>
            <p>Eliminación de musgo, hojas y suciedad para prolongar la vida útil de tu techo.</p>
          </div>
        </div>
        
        <div class="service-card">
          <div class="mx-auto service-icon">
            <i class="fas fa-paint-roller"></i>
          </div>
          <div class="service-content">
            <h3>Pintura Profesional</h3>
            <p>Transforma tus espacios con nuestro servicio de pintura de la más alta calidad.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Banner -->
  <section class="cta-banner"><div class="container">
    <h2 class="text-white mr-6">¿Listo para transformar tu espacio?</h2>
    <a href="/contacto" class="btn btn-primary">Solicita tu Cotización Gratis</a>
  </div>
  </section>

  <!-- Contact Section -->
  <section class="contact-section">
    <div class="container">
      <div class="contact-grid">
        <div class="contact-info">
          <h2>Contáctanos</h2>
          <p>¿Tienes alguna pregunta o necesitas más información? Estamos aquí para ayudarte.</p>
          
          <div class="info-item">
            <div class="info-icon">
              <i class="fas fa-phone"></i>
            </div>
            <div class="info-content">
              <h4>Teléfono</h4>
              <a href="tel:+19392634528">+1 (939) 263-4528</a>
            </div>
          </div>
          
          <div class="info-item">
            <div class="info-icon">
              <i class="fas fa-envelope"></i>
            </div>
            <div class="info-content">
              <h4>Correo electrónico</h4>
              <a href="mailto:jonathanroofingandlandscaping@gmail.com">jonathanroofingandlandscaping@gmail.com</a>
            </div>
          </div>
          
          <div class="info-item">
            <div class="info-icon">
              <i class="fas fa-map-marker-alt"></i>
            </div>
            <div class="info-content">
              <h4>Dirección</h4>
              <p>Barranquitas, Puerto Rico</p>
            </div>
          </div>
          
          <div class="social-links">
            <a href="https://www.facebook.com/share/v/1CGUbDV77U/?mibextid=wwXIfr" class="social-link" aria-label="Facebook">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a class="hidden" href="#" class="social-link" aria-label="Instagram">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="http://wa.link/tx3x9f" class="social-link" aria-label="WhatsApp">
              <i class="fab fa-whatsapp"></i>
            </a>
          </div>
        </div>
        
        <div class="map-container">
          <div id="map"></div>
          <div class="map-overlay">
            <i class="fas fa-map-marker-alt"></i>
            <span>Nuestra ubicación</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  
  
  <style>
    .hero .container { flex-direction: column; align-items: center; text-align: center; }
    .hero-image { display: none; }
    .newsletter-section { padding: 4rem 0; text-align: center; }
    .newsletter-form { display: flex; gap: 1rem; justify-content: center; max-width: 500px; margin: 2rem auto 0; }
    .newsletter-form input { flex: 1; padding: 0.75rem 1rem; border: 1px solid var(--gray); border-radius: var(--radius); font-size: 1rem; }
    .newsletter-form button { padding: 0.75rem 1.5rem; }
    /* Override primary button color to green */
    .btn-primary { background-color: #28a745; border-color: #28a745; }
    .btn-primary:hover { background-color: #218838; border-color: #1e7e34; }
    /* Mostrar secciones anteriormente ocultas y estilos modernizados */
    .featured-services, .contact-section { display: block; }

    /* Hero */
    .hero .btn-primary { background:var(--accent); border-color:var(--accent); }
    .hero .btn-primary:hover { background:#c77705; }
    .hero .btn-outline { border-color:#fff; color:#fff; }
    .hero .btn-outline:hover { background:rgba(255,255,255,0.15); }
    .hero {
      background: linear-gradient(135deg, rgba(var(--primary-rgb),0.65) 0%, rgba(var(--primary-dark-rgb),0.65) 100%), url('/images/image-hero/hero-fondo.jpeg') center/cover no-repeat; /* Overlay de marca */
      color: #fff;
      padding: 8rem 1rem;
      position: relative;
    }
    .hero .container { width:100%; max-width:1280px; padding:0 2rem; display:flex; flex-direction: column; align-items: center; text-align:center; }
    .hero h1 { font-size: clamp(3rem, 6vw, 4.5rem); font-weight: 800; margin-bottom: 1rem; line-height: 1.1; }
    .hero p { font-size: 1.125rem; max-width: 700px; margin-bottom: 2rem; }

    /* About Section redesigned */
    .about-card { background:#fff; border:2px solid #d1d5db; border-radius:0.75rem; padding:2rem; box-shadow:0 2px 6px rgba(0,0,0,.04); grid-row: span 2; }
    .about-card h3 { font-size:2rem; margin-bottom:1.25rem; letter-spacing:0.5px; }
    .about-card .highlight { color:#28a745; }

    .about-grid { display:grid; gap:2rem; } /* base mobile */
    @media(min-width:768px){ .about-grid{ grid-template-columns:repeat(3,1fr); } .about-card{ grid-row:span 2; } }
    @media(min-width:1024px){ .about-grid{ grid-template-columns:1.2fr 1fr 1fr; } }
    .benefit-card { background:#fff; border:1px solid #e5e7eb; border-radius:0.75rem; padding:1.5rem; box-shadow:0 1px 4px rgba(0,0,0,.03); text-align:left; transition:transform .3s, box-shadow .3s; cursor:default; position:relative; overflow:hidden; }
    .benefit-card .icon { font-size:1.75rem; color:#28a745; margin-bottom:0.75rem; }
    .benefit-card h4 { font-size:1.125rem; font-weight:700; margin-bottom:0.5rem; }
    .benefit-card p { font-size:0.95rem; line-height:1.4; }
    .benefit-card:hover { transform:translateY(-6px); box-shadow:0 8px 24px rgba(0,0,0,.08); }
    .benefit-card:hover .icon { transform:scale(1.1) rotate(-5deg); }
    .benefit-card .icon { transition:transform .3s; }
    .about-list { margin-top:1rem; padding-left:1.25rem; list-style:none; }
    .about-list li { position:relative; margin-bottom:0.5rem; padding-left:1.25rem; font-size:0.95rem; }
    .about-list li::before { content:"\f00c"; font-family:"Font Awesome 5 Free"; font-weight:900; color:#28a745; position:absolute; left:0; }

    /* About Section */
    .about-section { padding:3rem 0; background:#f9fafb; }
    
    .about-section h2 { font-size:2.5rem; margin-bottom:2rem; text-align:center; color:#000; }
    

    /* Featured Services */
    .featured-services { padding: 5rem 1rem; }
    .services-grid { display: grid; grid-template-columns: repeat(auto-fit,minmax(250px,1fr)); gap: 2rem; margin-top: 3rem; }
    .service-card { background:#fff; border-radius: 0.75rem; box-shadow: 0 4px 20px rgba(0,0,0,.05); padding:2rem; transition: transform .3s, box-shadow .3s; }
    .service-card:hover { transform: translateY(-6px); box-shadow: 0 8px 24px rgba(0,0,0,.08); }
    .service-icon { font-size:2rem; color:#28a745; margin-bottom: 1rem; }

    /* CTA Banner */
    .cta-banner { background:linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); color:#fff; padding:4rem 1rem; text-align:center; }
    .cta-banner h2 { font-size:2.25rem; margin-bottom:1.5rem; font-weight:700; }
    .cta-banner .btn-primary { background:#fff; color:var(--primary); border-color:#fff; display:inline-flex; align-items:center; justify-content:center; padding:1rem 2.5rem; font-size:1.1rem; border-radius:var(--radius-full); margin-top:1.5rem; box-shadow:var(--shadow-md); }
    .cta-banner .btn-primary:hover { background:#f8f9fa; }

    .hero-buttons { display:flex; gap:1.25rem; flex-wrap:wrap; justify-content:center; margin-top:2rem; }

    .hero-features { display:flex; flex-wrap:wrap; gap:0.1rem; justify-content:center; margin:1.5rem 0 2rem; color:#fff; font-weight:600; }
    .hero-features li { list-style:none; }
    .hero-features li::before { content:'•'; margin-right:0.5rem; }
    .hero h1 .highlight { color:#28a745; font-size:clamp(3.5rem,8vw,6rem); font-style:italic; line-height:1; display:block; text-shadow:1px 1px 3px rgba(0,0,0,0.2); }

    /* Hero Gallery */
    .hero-gallery { display:none; grid-template-columns: repeat(auto-fit,minmax(180px,1fr)); gap:1rem; width:100%; max-width:520px; margin-top:2rem; }
    .hero-gallery .gallery-img { width:100%; height:100%; aspect-ratio:4/3; object-fit:cover; border:4px solid #3e7a2b; border-radius:8px; box-shadow:0 4px 15px rgba(0,0,0,0.12); }
    
    
    
    

    @media(min-width:992px) {
      .hero .container { flex-direction: row; justify-content: space-between; align-items: center; column-gap: 4rem; }
      .hero-content { max-width:560px; text-align:left; margin-right:3rem; }
      .hero-gallery { display:grid; margin-top:0; align-self:flex-start; justify-self:flex-end; transform:translateY(-20px);} 
    }

    /* Breakpoints: XS (<576), SM (≥576), MD (≥768), LG (≥992), XL (≥1200) */
    @media(max-width:575.98px) {
      /* Hero mobile mejorado: ocupa viewport, tipografía potente y CTA full-width */
      .hero { padding:5.5rem 1rem 4rem; min-height:100vh; display:flex; flex-direction:column; justify-content:center; align-items:center; }
      .hero h1 { font-size:clamp(2.4rem,9vw,3rem); line-height:1.15; }
      .hero p { font-size:1.05rem; margin-bottom:1.75rem; }
      .hero-buttons { flex-direction:column; gap:0.9rem; width:100%; }
      .hero-buttons .btn { width:100%; padding:0.85rem 1rem; font-size:1.05rem; }
      /* Centrado del bloque principal */
      .hero-content { margin:0 auto; max-width:480px; }
      /* Feature chips en grid de dos columnas para mayor legibilidad */
      .hero-features { display:grid; grid-template-columns:repeat(2,1fr); gap:0.5rem 1rem; max-width:420px; margin:1.5rem auto 2rem; }
      .hero-features li { font-size:0.9rem; }
    }

    @media(min-width:576px) and (max-width:767.98px) {
      .hero { padding:6rem 1rem; }
      .hero h1 { font-size:clamp(2.25rem,6.5vw,3rem); }
      .hero p { font-size:1rem; }
      .hero-buttons { flex-direction:row; gap:1rem; justify-content:center; }
      .hero-features { gap:1rem; }
    }

    /* Show collage on tablets with reduced size */
    @media(min-width:768px) and (max-width:991.98px) {
      .hero-gallery { grid-template-columns:repeat(2,1fr); gap:0.75rem; max-width:360px; }
      .hero-gallery .gallery-img { height:140px; }
      .hero .container { flex-direction:row; align-items:center; text-align:left; column-gap: 3rem; }
      .hero-content { max-width:460px; }
      .hero-gallery { display:grid; width:100%; max-width:420px; margin-top:0; align-self:flex-start; transform:translateY(-10px);} 
      .hero-gallery .gallery-img { width:130px; height:100px; border-width:3px; }
      
      
      
      
    }

    /* XL screens – increase gallery for large desktops */
    @media(min-width:1200px) {
      .hero { padding:10rem 1rem; }
      .hero-gallery { max-width:640px; grid-template-columns:repeat(2,1fr); gap:1rem; }
      .hero-gallery .gallery-img { width:180px; height:135px; }
      
      
      
      
    }

    /* Newsletter */
    .newsletter-section { padding: 4rem 1rem; text-align: center; background:#ffffff; }
    .newsletter-form { display:flex; gap:1rem; justify-content:center; max-width: 600px; margin:2rem auto 0; }
    .newsletter-form input { flex: 1; padding:0.75rem 1rem; border:1px solid #d1d5db; border-radius: 0.5rem; font-size: 1rem; }

    /* Contact */
    .contact-section { padding:5rem 1rem; background:#f9fafb; }
    .contact-grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(280px,1fr)); gap:2.5rem; align-items:start; }
    .contact-info h2 { font-size:2rem; margin-bottom:1rem; }
    .info-item { display:flex; gap:1rem; margin-bottom:1rem; }
    .info-icon { font-size:1.5rem; color:#28a745; }
    .map-container { position:relative; border-radius:0.75rem; overflow:hidden; box-shadow:0 4px 20px rgba(0,0,0,.05); height:320px; }
  #map { width:100%; height:100%; }
    .map-spinner { position:absolute; top:50%; left:50%; width:48px; height:48px; margin:-24px 0 0 -24px; border:4px solid rgba(40,167,69,0.25); border-top-color:#28a745; border-radius:50%; animation:map-spin 0.8s linear infinite; z-index:1000; pointer-events:none; }
    @keyframes map-spin { to { transform: rotate(360deg); } }
    .leaflet-container { background:#e2e8f0; }
  </style>

  <script>
      // Initialize Leaflet map with Thunderforest tiles
      declare const L: any;
        window.addEventListener('load', () => {
        const mapElement = document.getElementById('map');
        if (!mapElement || typeof L === 'undefined') return;

        // Coordenadas por defecto (Barranquitas, PR)
        const location = [18.1869, -66.3129];

        const apiKey = import.meta.env.PUBLIC_THUNDERFOREST_API_KEY || '154b7c6250724292ab60fdac2ff0669c';

        const container = mapElement.parentElement as HTMLElement;
        const spinner = document.createElement('div');
        spinner.className = 'map-spinner';
        container.appendChild(spinner);

        // Corregir rutas de los íconos por defecto del marcador (evita 404)
        L.Icon.Default.mergeOptions({
          iconRetinaUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',
          iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',
          shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',
        });

        const map = L.map(mapElement).setView(location, 13);

        const thunderLayer = L.tileLayer(`https://tile.thunderforest.com/landscape/{z}/{x}/{y}.png?apikey=${apiKey}`, {
          attribution: '&copy; OpenStreetMap contributors & Thunderforest',
          maxZoom: 22,
        }).addTo(map);

        // Ocultar spinner cuando Thunderforest cargue los primeros tiles
        thunderLayer.on('load', () => spinner.remove());

        // Si hay error al cargar un tile, cambia a capa OSM estándar
        thunderLayer.on('tileerror', () => {
          map.removeLayer(thunderLayer);
          const osmLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; OpenStreetMap contributors',
            maxZoom: 19,
          }).addTo(map);
          osmLayer.on('load', () => spinner.remove());
        });

        L.marker(location).addTo(map).bindPopup('Barranquitas, Puerto Rico').openPopup();
      });
  </script>
